endian big

enum MessageType : u16 {
    CRT_State       = h0100,
    CRT_DataFrom    = h0102,
    CRT_DataTo      = h0103,

    Output_DigIn    = h1000,
    Output_DigOut   = h1020,
    Output_Door     = h1021,
    Output_AnIn     = h1040,
    Output_AnOut    = h1060
}

struct ApKp_DigIn {
    hwid: u32,
    input_number: u8
}

enum DigInState : u8 {
    S1 = h1,
    S2 = h2,
    S3 = h4,
    S4 = h8
}

struct KpAp_DigIn {
    hwid: u32,
    input_number: u8,
    old_state: u8,
    new_state: u8
}

struct ApKp_DigOut {
    hwid: u32,
    output_nr: u8,
    output_state: u8
}

enum DigOutState : u8 {
    NotActive = b0,
    Blinking = b101,
    TimeControlled = b1100,
    PermanentlyActive = b1111
}

struct KpAp_DigOut {
    hwid: u32,
    output_nr: u8,
    old_state: u8,
    new_state: u8
}

enum DoorState : u8 {
    RelayInactive = h0,
    RelayActive = h1,
    TimeControlled = h2,
    IntervalControlled = h4
}

struct ApKp_DoorState {
    hwid: u32,
    door_nr: u8,
    state: u8
}

struct KpAp_DoorState {
    hwid: u32,
    door_nr: u8,
    old_state: u8,
    new_state: u8
}

struct ApKp_ModuleDataFrom {
    hwid: u32
}

enum ModuleState : u16 {
    FaultAP = B0,
    FaultVoltage = B1,
    PwrCommFault = B6,
    Tamper = B14,
    Reset = B15
}

enum ModuleCommState : u16 {
    LedOn = B6,
    UpdateLedSvc = B7,
    ThreeTimeNoResponse = B11,
    EraseExtMem = B12,
    ProgExtMem = B13,
    FirmwareUpgrade = B14,
    NoComm = B15
}

struct ApKp_AdnModuleState {
    hwid: u32
}

struct KpAp_AdnModuleState {
    hwid: u32,
    module_state: u16,
    comm_state: u16
}

enum PwrState1 : u8 {
    RSer = B0,
    BatFault = B1,


    BatShorted = B4,
    BatMissing = B5,
    BatTempHigh = B6,
    OverTemperature = B7
}

enum PwrState2 : u8 {
    IInHigh = B0,
    IBatLow = B1,
    VBatLow = B2,
    VBatHigh = B3,
    VSysLow = B4,
    VSysHigh = B5,
    VInLow = B6,
    VInHigh = B7
}

enum PwrState3 : u8 {
    VSupLow = B0,
    VSupHigh = B1,
    ReducerEn = B2,


    OutHc = B5
}

struct ApKp_PwrState {
    hwid: u32,
    state1: u8,
    state2: u8,
    state3: u8
}
